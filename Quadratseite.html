<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quadratseite und Fläche (Parabel) - Erweitert</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for better visualization */
        body {
            font-family: 'Inter', sans-serif; /* Use Inter font */
        }
        canvas {
            border: 1px solid #d1d5db; /* gray-300 */
            border-radius: 0.375rem; /* rounded-md */
            background-color: #f9fafb; /* gray-50 */
        }
        /* Style slider */
        input[type=range] {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 8px;
            background: #d1d5db; /* gray-300 */
            border-radius: 5px;
            outline: none;
            opacity: 0.7;
            transition: opacity .2s;
        }
        input[type=range]:hover {
            opacity: 1;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #3b82f6; /* blue-500 */
            border-radius: 50%;
            cursor: pointer;
        }
        input[type=range]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #3b82f6; /* blue-500 */
            border-radius: 50%;
            cursor: pointer;
            border: none; /* Remove default border in Firefox */
        }
        .label-text {
            color: #4b5563; /* gray-600 */
            font-weight: 500;
        }
        .value-display {
            font-weight: 600;
            color: #1f2937; /* gray-800 */
            min-width: 50px; /* Ensure space for values */
            text-align: right;
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-100 p-4 md:p-8 flex flex-col items-center min-h-screen">

    <div class="bg-white p-6 rounded-lg shadow-md w-full max-w-4xl">
        <h1 class="text-2xl font-semibold text-center text-gray-700 mb-6">Visualisierung: Quadratseite 'a' vs '0.25a' und Fläche 'a²' vs '(0.25a)²'</h1>

        <div class="mb-6 px-4">
            <label for="aSlider" class="block text-sm font-medium text-gray-700 mb-2">Seitenlänge a:</label>
            <input type="range" id="aSlider" min="0" max="10" step="0.1" value="5" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
            <div class="flex justify-between text-sm text-gray-500 mt-1">
                <span>0</span>
                <span>5</span>
                <span>10</span>
            </div>
        </div>

        <div class="flex flex-wrap justify-center gap-4 mb-6 text-lg">
             <div class="text-center bg-blue-50 p-3 rounded-md shadow-sm flex items-center space-x-2">
                <span class="label-text">a = </span>
                <span id="aValue" class="value-display">5.0</span>
            </div>
             <div class="text-center bg-yellow-50 p-3 rounded-md shadow-sm flex items-center space-x-2">
                <span class="label-text">0.25a = </span>
                <span id="aQuarterValue" class="value-display">1.3</span>
            </div>
            <div class="text-center bg-green-50 p-3 rounded-md shadow-sm flex items-center space-x-2">
                <span class="label-text">a² = </span>
                <span id="aSquaredValue" class="value-display">25.0</span>
            </div>
             <div class="text-center bg-yellow-100 p-3 rounded-md shadow-sm flex items-center space-x-2">
                <span class="label-text">(0.25a)² = </span>
                <span id="aQuarterSquaredValue" class="value-display">1.6</span>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="text-center p-4 border border-gray-200 rounded-lg bg-white">
                <h2 class="text-lg font-medium text-gray-600 mb-2">Quadrate (a und 0.25a)</h2>
                <canvas id="squareCanvas" width="300" height="300" class="mx-auto"></canvas>
            </div>

            <div class="text-center p-4 border border-gray-200 rounded-lg bg-white">
                <h2 class="text-lg font-medium text-gray-600 mb-2">Parabeln (y = x² und y = (0.25x)²)</h2>
                <canvas id="parabolaCanvas" width="300" height="300" class="mx-auto"></canvas>
            </div>
        </div>
    </div>

    <script>
        // Get DOM elements
        const slider = document.getElementById('aSlider');
        const aValueDisplay = document.getElementById('aValue');
        const aQuarterValueDisplay = document.getElementById('aQuarterValue');
        const aSquaredValueDisplay = document.getElementById('aSquaredValue');
        const aQuarterSquaredValueDisplay = document.getElementById('aQuarterSquaredValue');
        const squareCanvas = document.getElementById('squareCanvas');
        const parabolaCanvas = document.getElementById('parabolaCanvas');
        const sqCtx = squareCanvas.getContext('2d');
        const paCtx = parabolaCanvas.getContext('2d');

        // Constants for drawing
        const maxA = parseFloat(slider.max); // Maximum value of 'a' from slider
        const sqPadding = 30; // Padding for square canvas
        const paPadding = 30; // Padding for parabola canvas
        const sqCanvasSize = squareCanvas.width;
        const paCanvasSize = parabolaCanvas.width;

        // --- Drawing Functions ---

        // Function to draw the squares
        function drawSquare(a) {
            sqCtx.clearRect(0, 0, sqCanvasSize, sqCanvasSize); // Clear canvas
            sqCtx.fillStyle = "#f9fafb"; // bg-gray-50 for canvas background
            sqCtx.fillRect(0, 0, sqCanvasSize, sqCanvasSize);

            // --- Outer Square (a) ---
            const maxDrawableSize = sqCanvasSize - 2 * sqPadding;
            const side = (a / maxA) * maxDrawableSize; // Scaled side length for drawing
            const x = (sqCanvasSize - side) / 2;
            const y = (sqCanvasSize - side) / 2;

            // Draw the outer square (stroke only)
            sqCtx.strokeStyle = '#3b82f6'; // blue-500
            sqCtx.lineWidth = 2;
            sqCtx.strokeRect(x, y, side, side);

            // Draw label 'a' for outer square
            sqCtx.fillStyle = '#3b82f6'; // blue-500
            sqCtx.font = '14px Inter';
            sqCtx.textAlign = 'center';
            sqCtx.fillText('a', x + side / 2, y + side + 15); // Below the square
            if (side > 20) {
                 sqCtx.textAlign = 'right';
                 sqCtx.fillText('a', x - 5, y + side / 2 + 5); // Left of the square
            }

            // --- Inner Square (0.25a) ---
            const innerSide = 0.25 * side; // Side length of inner square is 25% of outer square's DRAWN side
            const innerX = x + (side - innerSide) / 2; // Center the inner square
            const innerY = y + (side - innerSide) / 2;

            // Draw the inner square (filled)
            sqCtx.fillStyle = '#facc15'; // yellow-400
            sqCtx.fillRect(innerX, innerY, innerSide, innerSide);
            sqCtx.strokeStyle = '#ca8a04'; // yellow-600 (border for contrast)
            sqCtx.lineWidth = 1;
            sqCtx.strokeRect(innerX, innerY, innerSide, innerSide);


            // Draw label '0.25a' for inner square (if space allows)
            if (innerSide > 25) {
                sqCtx.fillStyle = '#a16207'; // yellow-700
                sqCtx.font = '12px Inter';
                sqCtx.textAlign = 'center';
                sqCtx.fillText('0.25a', innerX + innerSide / 2, innerY + innerSide / 2 + 4); // Centered inside
            }
        }

        // Function to draw the parabolas and the points
        function drawParabola(a) {
            paCtx.clearRect(0, 0, paCanvasSize, paCanvasSize); // Clear canvas
            paCtx.fillStyle = "#f9fafb"; // bg-gray-50 for canvas background
            paCtx.fillRect(0, 0, paCanvasSize, paCanvasSize);

            const maxX = maxA; // Max x-value corresponds to max 'a'
            const maxY = maxA * maxA; // Max y-value is maxA squared (for the main parabola)

            // Calculate scaling factors (based on the larger parabola y=x²)
            const scaleX = (paCanvasSize - 2 * paPadding) / maxX;
            const scaleY = (paCanvasSize - 2 * paPadding) / (maxY * 1.05); // Use same scale for comparison

            // --- Draw Axes ---
            const originX = paPadding;
            const originY = paCanvasSize - paPadding;

            paCtx.strokeStyle = '#6b7280'; // gray-500
            paCtx.lineWidth = 1;
            paCtx.beginPath();
            // Y-axis
            paCtx.moveTo(originX, paPadding / 2);
            paCtx.lineTo(originX, originY);
            // X-axis
            paCtx.lineTo(paCanvasSize - paPadding / 2, originY);
            paCtx.stroke();

            // Axis Labels
            paCtx.fillStyle = '#4b5563'; // gray-600
            paCtx.font = '12px Inter';
            paCtx.textAlign = 'center';
            paCtx.fillText('x (Seite)', paCanvasSize - paPadding / 2, originY + 15); // X-axis label
            paCtx.textAlign = 'right';
            paCtx.fillText('y (Fläche)', originX - 8, paPadding); // Y-axis label

            // --- Draw Parabola (y = x^2) ---
            paCtx.beginPath();
            paCtx.strokeStyle = '#10b981'; // emerald-500
            paCtx.lineWidth = 2;
            for (let xPlot = 0; xPlot <= maxX; xPlot += 0.1) {
                const yPlot = xPlot * xPlot;
                const canvasX = originX + xPlot * scaleX;
                const canvasY = originY - yPlot * scaleY;
                if (xPlot === 0) paCtx.moveTo(canvasX, canvasY);
                else paCtx.lineTo(canvasX, canvasY);
            }
            paCtx.stroke();

             // --- Draw Parabola (y = (0.25x)^2 = 0.0625 * x^2) ---
            paCtx.beginPath();
            paCtx.strokeStyle = '#facc15'; // yellow-400
            paCtx.lineWidth = 2;
            for (let xPlot = 0; xPlot <= maxX; xPlot += 0.1) {
                const yPlot = 0.0625 * xPlot * xPlot; // Use the formula for the second parabola
                const canvasX = originX + xPlot * scaleX;
                const canvasY = originY - yPlot * scaleY; // Use the same scaleY
                 if (xPlot === 0) paCtx.moveTo(canvasX, canvasY);
                else paCtx.lineTo(canvasX, canvasY);
            }
            paCtx.stroke();


            // --- Draw Point (a, a^2) ---
            const aSquared = a * a;
            const pointX_a = originX + a * scaleX;
            const pointY_a2 = originY - aSquared * scaleY;

            // Draw the point
            paCtx.fillStyle = '#ef4444'; // red-500
            paCtx.beginPath();
            paCtx.arc(pointX_a, pointY_a2, 5, 0, 2 * Math.PI);
            paCtx.fill();

            // Draw lines to axes for (a, a^2)
            paCtx.beginPath();
            paCtx.strokeStyle = '#ef4444'; // red-500
            paCtx.setLineDash([3, 3]);
            paCtx.lineWidth = 1;
            paCtx.moveTo(originX, pointY_a2); // Line to Y axis
            paCtx.lineTo(pointX_a, pointY_a2);
            paCtx.lineTo(pointX_a, originY); // Line to X axis
            paCtx.stroke();


            // --- Draw Point (a, (0.25a)^2) ---
            const aQuarter = 0.25 * a;
            const aQuarterSquared = aQuarter * aQuarter; // or 0.0625 * a * a
            // const pointX_aQuarter = originX + aQuarter * scaleX; // X-coordinate is still 'a' for the input
            const pointY_aQuarter2 = originY - aQuarterSquared * scaleY;

            // Draw the second point (on the yellow parabola at x=a)
            paCtx.fillStyle = '#eab308'; // yellow-500
            paCtx.beginPath();
            // Use pointX_a because the input value is 'a' for both points
            paCtx.arc(pointX_a, pointY_aQuarter2, 5, 0, 2 * Math.PI);
            paCtx.fill();

            // Draw lines to axes for (a, (0.25a)^2)
            paCtx.beginPath();
            paCtx.strokeStyle = '#eab308'; // yellow-500
            // Dashed lines already set
            paCtx.lineWidth = 1;
            paCtx.moveTo(originX, pointY_aQuarter2); // Line to Y axis
            paCtx.lineTo(pointX_a, pointY_aQuarter2);
            // No need to draw line to X axis again, it's the same X position
            paCtx.stroke();
            paCtx.setLineDash([]); // Reset line dash


            // --- Label Coordinates ---
            // Labels for (a, a^2)
            paCtx.fillStyle = '#ef4444'; // red-500
            paCtx.font = '12px Inter';
            paCtx.textAlign = 'center';
            paCtx.fillText(a.toFixed(1), pointX_a, originY + 15); // Label 'a' on X-axis (only once)
            paCtx.textAlign = 'right';
            const yLabelPos_a2 = Math.max(pointY_a2 + 4, paPadding + 15); // Avoid overlap
            paCtx.fillText(aSquared.toFixed(1), originX - 8, yLabelPos_a2); // Label 'a²' on Y-axis

             // Labels for (a, (0.25a)^2)
            paCtx.fillStyle = '#ca8a04'; // yellow-600
            paCtx.font = '12px Inter';
            paCtx.textAlign = 'right';
             // Position label for (0.25a)² carefully to avoid overlap with a² label
            let yLabelPos_aQuarter2 = pointY_aQuarter2 + 4;
            if (Math.abs(yLabelPos_aQuarter2 - yLabelPos_a2) < 14) { // If too close to a² label
                yLabelPos_aQuarter2 = pointY_aQuarter2 - 10; // Move it down
            }
            yLabelPos_aQuarter2 = Math.max(yLabelPos_aQuarter2, paPadding + 15); // Ensure within bounds
            paCtx.fillText(aQuarterSquared.toFixed(1), originX - 8, yLabelPos_aQuarter2); // Label '(0.25a)²' on Y-axis
        }

        // --- Update Function ---
        function updateVisualizations() {
            const a = parseFloat(slider.value);
            const aQuarter = 0.25 * a;
            const aSquared = a * a;
            const aQuarterSquared = aQuarter * aQuarter;

            // Update text displays
            aValueDisplay.textContent = a.toFixed(1);
            aQuarterValueDisplay.textContent = aQuarter.toFixed(1);
            aSquaredValueDisplay.textContent = aSquared.toFixed(1);
            aQuarterSquaredValueDisplay.textContent = aQuarterSquared.toFixed(1);


            // Redraw canvases
            drawSquare(a);
            drawParabola(a);
        }

        // --- Event Listener ---
        slider.addEventListener('input', updateVisualizations);

        // --- Initial Draw ---
        squareCanvas.width = 300;
        squareCanvas.height = 300;
        parabolaCanvas.width = 300;
        parabolaCanvas.height = 300;
        updateVisualizations(); // Draw initially

    </script>

</body>
</html>

